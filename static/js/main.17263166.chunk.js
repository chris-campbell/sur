(window.webpackJsonpsur=window.webpackJsonpsur||[]).push([[0],{17:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCwoWNQoeJuaTAAAAnUlEQVRIx82VsQ2DMBREEQ0tSs8OWSGLsEbmyBIp2CFbMAETUKbipYki5BiC/YTCtbafZN/9c1EcRnScNu17K7YwcHEAmLhRGQBAz9kB4MmV0gAAHjQOACOtAwAxa9MAEWtTAV/WpgMCa/MAM2tzAR9rDQBG2hCwmLhk7X0F+YjKRhkkGWU1THKcVaHISlOlKmtdfix36t/HVwB/0ws6u/4zILFV0wAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMS0xMFQyMjo1MzoxMCswMDowMDbJC2sAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTEtMTBUMjI6NTM6MTArMDA6MDBHlLPXAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},18:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAAmJLR0QAAKqNIzIAAAAHdElNRQfjCwoWNQoeJuaTAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTExLTEwVDIyOjUzOjEwKzAwOjAwNskLawAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMS0xMFQyMjo1MzoxMCswMDowMEeUs9cAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAABMElEQVRYR+3XwU3DQBCFYcuXXCPu9JAWaCRtUAdNcEgPdEEFqYBjToG3q5/RYDz2EB+GQz5phfL8Zo0EmzjD3dTnBPFm2mqv9crLWL+rQ7yJtnnSOqf2ayWP+CYa32m9aF3bXg2XYvQM8Z9p9KD13jdxuByjZ4jTNDJqPWtd2vwUtRg9Q5yi+qPWWx8MUI3RM8SrVD1qffShBdRj9AxxSJUHrVMvJzAWo2eIZ+myHa8sRmP0DPEPin8dryy2iNEzxEbR7PHKYpsYPUPc8sXjlcV2MXqGbPV4ZfWbLKHnpY5XFrcxIz//D35RQ1b3JyBued0/oaeo5hh6iuveiDxdrnkr9lSp+zDyVK35OPZUr3sg+aaRukcyT6M1D6Wexuseyz1tU/PFxNNW/bjy8g7D8AWaghtP2zbZ3QAAAABJRU5ErkJggg=="},19:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCwMXKzqQdMxdAAAAMUlEQVRIx+3MoQ0AMAzEQKsDZ72M9+UJLCmwsXUApDMrRqn1NMDhMQEBAQEBAYHfgAsztCZlvasgxgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMS0wM1QyMzo0Mzo1OCswMDowMDMaMgIAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTEtMDNUMjM6NDM6NTgrMDA6MDBCR4q+AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},20:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCwMXKCKoNQfIAAAA00lEQVRIx8XVsS5EQRQG4LkiGjqV0FHzAjwBCQ+wKolW6QE0XmEfwfYK2l2thHq33qg2GwmF5H4aJBIRd/7CqaY532TOOTNTyke4MrRV6sM9XpxpEgBubWQAM8cZAAOrGcDUQQbQ6ltJAJjYywDeXFpKAHi0kwG8OreQAHBnMwOYO80AuLaWATw5ygC4+Mz7vbJdotMRDv+tiGEbR8kghaP8YLu+C+F1ntitn4NW33L9IE3t/zn5ByB61md6HZO/ATfWK9LrP9fFr9W4PJeTZtx143cShRurssv8MwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMS0wM1QyMzo0MDozNCswMDowMNni6vIAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTEtMDNUMjM6NDA6MzQrMDA6MDCov1JOAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},23:function(t,a,e){t.exports=e(51)},28:function(t,a,e){},29:function(t,a,e){},30:function(t,a,e){},31:function(t,a,e){},32:function(t,a,e){},51:function(t,a,e){"use strict";e.r(a);var r=e(0),s=e.n(r),i=e(16),n=e.n(i),c=(e(28),e(22)),A=e(2),l=e(3),o=e(5),u=e(4),m=e(6),d=function(t){return s.a.createElement("div",{className:"sur-info-box"},s.a.createElement("div",{className:"sur-artist-name"},s.a.createElement("h1",null,t.artist)))},p=e(17),h=e.n(p),g=e(18),b=e.n(g),f=e(19),k=e.n(f),E=e(20),v=e.n(E),M=function(t){function a(t){var e;return Object(A.a)(this,a),(e=Object(o.a)(this,Object(u.a)(a).call(this,t))).componentWillUnmount=function(){clearInterval(e.durationInterval)},e.state={seconds:0,isPlaying:!1,track:null},e}return Object(m.a)(a,t),Object(l.a)(a,[{key:"render",value:function(){var t=this.state.seconds;return s.a.createElement("div",{className:"duration col"},"00:",t," / 00:",Math.ceil(this.props.time.duration))}},{key:"componentDidUpdate",value:function(t){this.props.time.isPlaying!==t.time.isPlaying&&this.setState({isPlaying:!1===this.state.isPlaying,track:this.props.time.trackNumber})}},{key:"restartSeconds",value:function(){this.setState({seconds:0})}},{key:"componentDidMount",value:function(){var t=this;this.durationInterval=setInterval((function(){t.state.isPlaying&&t.setState((function(t){return{seconds:t.seconds+1}}))}),1e3)}}]),a}(s.a.Component),y=function(t){function a(t){var e;return Object(A.a)(this,a),(e=Object(o.a)(this,Object(u.a)(a).call(this,t))).accessChild=function(){e.refs.child.restartSeconds()},e.play=function(){e.setState({isPlaying:!0},(function(){e.refs.audio.play()}))},e.pause=function(){e.setState({isPlaying:!1},(function(){e.refs.audio.pause()}))},e.next=function(){var t=[];e.setState({trackNumber:e.state.trackNumber+1},(function(){e.props.trackList[e.state.trackNumber].preview&&e.setState({isPlaying:!0,url:e.props.trackList[e.state.trackNumber].preview,trackImg:e.props.trackList[e.state.trackNumber].album.cover_small,trackTitle:e.props.trackList[e.state.trackNumber].album.title,audioDurationTime:e.audioDuration(e.refs.audio)},(function(){e.refs.audio.pause(),e.refs.audio.load(),e.refs.audio.play(),t.push(e.state.trackImg),t.push(e.state.trackTitle),e.props.albumstuff(t),e.accessChild()}))}))},e.prev=function(){var t=[];e.state.trackNumber>0&&e.setState({trackNumber:e.state.trackNumber-1},(function(){e.props.trackList[e.state.trackNumber].preview&&e.setState({isPlaying:!0,url:e.props.trackList[e.state.trackNumber].preview,trackImg:e.props.trackList[e.state.trackNumber].album.cover_small,trackTitle:e.props.trackList[e.state.trackNumber].title,audioDurationTime:e.audioDuration(e.refs.audio)},(function(){e.refs.audio.pause(),e.refs.audio.load(),e.refs.audio.play(),t.push(e.state.trackImg),t.push(e.state.trackTitle),e.props.albumstuff(t),e.accessChild(),e.accessChild()}))}))},e.imageToggle=function(){return!0===e.state.isPlaying?e.state.pauseImage:e.state.playImage},e.audioDuration=function(t){var a=null;t&&(t.onloadedmetadata=function(){t.duration&&(a=t.duration,e.setState({audioDurationTime:a}))})},e.state={url:"",trackNumber:null,isPlaying:!1,playImage:v.a,pauseImage:k.a,trackImg:null,trackTitle:null,audioDurationTime:null},e.durationlev=null,e}return Object(m.a)(a,t),Object(l.a)(a,[{key:"componentDidUpdate",value:function(t){var a=this;this.props.trackInfo!==t.trackInfo?this.setState({url:this.props.trackList[this.props.trackInfo[1]].preview,trackNumber:parseInt(this.props.trackInfo[1],10),isPlaying:JSON.parse(this.props.trackInfo[2]),trackImg:this.props.trackInfo[3],trackTitle:this.props.trackInfo[4],audioDurationTime:this.audioDuration(this.refs.audio)},(function(){a.refs.audio.pause(),a.refs.audio.load(),a.refs.audio.play(),a.accessChild()})):document.getElementById("audio-main").onended=function(){a.setState({isPlaying:!1})}}},{key:"render",value:function(){var t={duration:this.state.audioDurationTime,isPlaying:this.state.isPlaying,trackNumber:this.state.trackNumber};return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"sur-track-info col-4"},s.a.createElement("img",{src:this.state.trackImg||"https://via.placeholder.com/45",alt:"small-album-cover"}),s.a.createElement("span",null,this.state.trackTitle)),s.a.createElement("div",{className:"sur-player-console col-8"},s.a.createElement("audio",{id:"audio-main",ref:"audio",preload:"metadata"},s.a.createElement("source",{src:this.state.url,type:"audio/mp3"})),s.a.createElement("div",{className:"sur-player-controls row"},s.a.createElement("div",{className:"sur-player-btns col"},s.a.createElement("img",{className:"sur-player-prev-btn",src:b.a,onClick:this.prev,alt:"prev-button"}),s.a.createElement("img",{className:"sur-play-btn",onClick:this.state.isPlaying?this.pause:this.play,src:this.imageToggle(),alt:"play-button"}),s.a.createElement("img",{className:"sur-player-next-btn",src:h.a,onClick:this.next,alt:"next-button"})),s.a.createElement(M,{ref:"child",time:t}))))}}]),a}(s.a.Component),T=(e(29),function(t){function a(){var t,e;Object(A.a)(this,a);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=Object(o.a)(this,(t=Object(u.a)(a)).call.apply(t,[this].concat(s)))).state={albumCover:"https://via.placeholder.com/45",albumTitle:null},e.trackInfo=function(t){var a=[];a.push(t.target.getAttribute("data-track")),a.push(t.target.getAttribute("data-num")),a.push(t.target.getAttribute("data-load")),a.push(t.target.getAttribute("data-cover")),a.push(t.target.getAttribute("data-title")),a.push(t.target.getAttribute("data-duration")),e.setState({albumCover:t.target.getAttribute("data-cover"),albumTitle:t.target.getAttribute("data-title")}),e.props.getTrackInfo(a)},e}return Object(m.a)(a,t),Object(l.a)(a,[{key:"componentDidUpdate",value:function(t){t.test!==this.props.test&&this.props.test[0]&&this.setState({albumCover:this.props.test[0],albumTitle:this.props.test[1]})}},{key:"render",value:function(){var t=this,a=this.props.trackslist.slice(0,this.props.limit).map((function(a,e){return s.a.createElement("li",{"data-num":e,"data-track":a.preview,"data-cover":a.album.cover_small,"data-title":a.title,"data-load":!0,onClick:t.trackInfo,key:e},a.title)}));return s.a.createElement("div",{id:"sur-playlist"},s.a.createElement("h3",null,"Tracks"),s.a.createElement("ul",{id:"sur-track-listing"},a),s.a.createElement("a",{className:"load-more",href:"#",onClick:this.props.loadMoreTracks},"Load more"),s.a.createElement("div",{className:"sur-album"},s.a.createElement("h3",null,"Album"),s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6 sur-album-cover"},s.a.createElement("img",{src:this.state.albumCover,alt:"album cover"})),s.a.createElement("div",{className:"sur-album-info col"},s.a.createElement("h5",null,this.state.albumTitle))))))}}]),a}(s.a.Component)),N=(e(30),e(31),e(32),e(21)),C=e.n(N),w="https://cors-anywhere.herokuapp.com/https://api.deezer.com/search?q=artist:'jay-z'",I="https://cors-anywhere.herokuapp.com/https://api.deezer.com/search?q=artist:",D=function(t){function a(){var t,e;Object(A.a)(this,a);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=Object(o.a)(this,(t=Object(u.a)(a)).call.apply(t,[this].concat(s)))).state={value:""},e.timeout=null,e.doSearch=function(t){e.setState({value:t.target.value}),clearTimeout(e.timeout),e.timeout=setTimeout((function(){e.props.callback(e.state.value)}),500)},e}return Object(m.a)(a,t),Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("input",{type:"text",className:"sur-searbar",onChange:this.doSearch,value:this.state.value,placeholder:"Type artist name . . ."})}}]),a}(s.a.Component),j=function(t){function a(){var t,e;Object(A.a)(this,a);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=Object(o.a)(this,(t=Object(u.a)(a)).call.apply(t,[this].concat(s)))).state={artistName:null,trackTitle:null,album:null,albumCover:null,backgroundCover:null,tracks:[],loading:!1,searchTerm:"",limitTo:10,trackInfo:null,starterTrack:null,albumStuff:null},e.fetchPlaylistItems=function(t){C.a.get(t).then((function(t){void 0!==t.data.data&&t.data.data.forEach((function(a){e.setState({artistName:a.artist.name,trackTitle:a.title,album:a.album.title,albumCover:a.album.cover_medium,tracks:Object(c.a)(t.data.data),backgroundCover:a.artist.picture_xl,starterTrack:a.preview,loading:!1})}))}))},e.searchTerm=function(t){var a="";e.setState({searchTerm:t,loading:!0}),!0===e.state.loading&&e.setDefaultTrackLimit(),a=""===t?w:"".concat(I,'"').concat(t,'"'),e.fetchPlaylistItems(a)},e.loadMoreTracks=function(){e.setState({limitTo:e.state.limitTo+5})},e.setAlbum=function(t){e.setState({albumStuff:t})},e.trackInfoFromChild=function(t){e.setState({trackInfo:t})},e.setDefaultTrackLimit=function(){e.setState({limitTo:10})},e}return Object(m.a)(a,t),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({loading:!0});var t=w;this.fetchPlaylistItems(t)}},{key:"render",value:function(){var t=this.state.backgroundCover,a={backgroundImage:"linear-gradient(90deg, rgba(0, 0, 0, 0.67), rgb(33, 17, 48)), url(".concat(t,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"100% auto",resize:"both",height:"519px",borderTopLeftRadius:"21px"};return s.a.createElement("main",{className:"sur-box container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"sur-music-info col-12 container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"sur-artist-info col-8",style:a},s.a.createElement(D,{callback:this.searchTerm}),s.a.createElement(d,{artist:this.state.artistName,track:this.state.trackTitle,albumtitle:this.state.album,bgImage:this.state.backgroundCover})),s.a.createElement("div",{className:"sur-tracks col-4"},s.a.createElement(T,{trackslist:this.state.tracks,loadMoreTracks:this.loadMoreTracks,limit:this.state.limitTo,albumCover:this.state.albumCover,albumTitle:this.state.album,trackTitle:this.state.trackTitle,getTrackInfo:this.trackInfoFromChild,test:this.state.albumStuff})))),s.a.createElement("div",{className:"sur-player col-12"},s.a.createElement(y,{trackInfo:this.state.trackInfo,trackList:this.state.tracks,search:this.search,albumstuff:this.setAlbum}))))}}]),a}(s.a.Component);e(50);var Q=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(j,null))};n.a.render(s.a.createElement(Q,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.17263166.chunk.js.map